#!/bin/bash

_debug() {

  local readonly msg="$1"

  echo "."
  echo "bodega >> [Debug] << ${msg}"
  echo "."
}


_error() {

  local readonly msg="$1"

  echo "."
  echo "."
  echo "bodega >> [Error] << ${msg}"
  echo "."
  echo "."

  return 1
}


_error_fatal() {

  local readonly msg="$1"

  echo "."
  echo "."
  echo "bodega >> [Fatal Error] << ${msg}"
  echo "."
  echo "."

  exit 1
}


_os_check() {

  . /etc/os-release

  [[ ${1,,} =~ ${ID}${ID:+|}${ID_LIKE// /|} ]] \
    && [[ ${VERSION_ID} =~ ${2,,} ]]           \
    && [[ ${CPE_NAME}   =~ ${3,,} ]]           \
    && return 0

  return 1
}


_setup_ubuntu() {

  sudo -- apt-get update
  sudo -- apt-get install cmake
}


_setup_macos() {

  brew install cmake
}


_cmake_ordinary() {

  mkdir -p ./build && cd $_
  cmake .. && make
}


__bodega_build() {

  _cmake_ordinary
}


__bodega_test() {

  echo
}


[[ -n "$1" ]] && "__bodega_$1" "$@"

